{"uuid":"7a7d2c7e-1305-4cf7-aa04-1a4687c5f328","historyId":" tests/moderation/partner/moderate-reported-comment.spec.ts Moderate a reported comment hide \"POLL_COMMENT\"","status":"failed","statusDetails":{"message":"query option is required. You must specify your GraphQL document in the query option.","trace":"Invariant Violation: query option is required. You must specify your GraphQL document in the query option.\n    at new InvariantError (/Users/gordonpreumont/workspace/aaqua-web-e2e-prod/node_modules/ts-invariant/lib/invariant.esm.js:12:28)\n    at Object.invariant (/Users/gordonpreumont/workspace/aaqua-web-e2e-prod/node_modules/ts-invariant/lib/invariant.esm.js:24:15)\n    at QueryManager.query (/Users/gordonpreumont/workspace/aaqua-web-e2e-prod/node_modules/@apollo/client/core/QueryManager.js:340:19)\n    at AaquaApolloClient.ApolloClient.query (/Users/gordonpreumont/workspace/aaqua-web-e2e-prod/node_modules/@apollo/client/core/ApolloClient.js:133:34)\n    at verifyCommentIsNotVisible (/Users/gordonpreumont/workspace/aaqua-web-e2e-prod/src/graphql-schema/comment/find-comment.ts:50:37)\n    at runMicrotasks (<anonymous>)\n    at verifyEntityIsNotVisible (/Users/gordonpreumont/workspace/aaqua-web-e2e-prod/src/tests/moderation/utils/verify-entity.utils.ts:52:9)\n    at Object.stepDefinitionCallback (/Users/gordonpreumont/workspace/aaqua-web-e2e-prod/src/tests/moderation/partner/moderate-reported-comment.spec.ts:113:11)\n    at /Users/gordonpreumont/workspace/aaqua-web-e2e-prod/src/gherkin-utils/define-feature.util.ts:150:15\n    at /Users/gordonpreumont/workspace/aaqua-web-e2e-prod/src/gherkin-utils/define-feature.util.ts:141:13\n    at pEachSeries (/Users/gordonpreumont/workspace/aaqua-web-e2e-prod/src/gherkin-utils/define-feature.util.ts:12:25)\n    at /Users/gordonpreumont/workspace/aaqua-web-e2e-prod/src/gherkin-utils/define-feature.util.ts:123:9"},"stage":"pending","steps":[{"status":"passed","statusDetails":{},"stage":"pending","steps":[{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862550728,"name":"browserContext.newPage","stop":1654862551387}],"attachments":[],"parameters":[],"start":1654862550207,"name":"Before Hooks","stop":1654862551387},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862551388,"name":"given a \"POLL_COMMENT\" created by \"MOD_MEMBER_1\" has been reported by \"MOD_MEMBER_2\" to \"COMMUNITY\" with reason \"HARASSMENT_HATE\"","stop":1654862556046},{"status":"passed","statusDetails":{},"stage":"pending","steps":[{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862556053,"name":"page.goto(https://partner.aaqua.live//login/email)","stop":1654862557456},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862557459,"name":"locator.fill(input[name=\"username\"])","stop":1654862557556},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862557558,"name":"locator.fill(input[name=\"password\"])","stop":1654862557624},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862557626,"name":"page.waitForNavigation","stop":1654862559299},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862557629,"name":"locator.click(button[type=\"submit\"])","stop":1654862557856}],"attachments":[],"parameters":[],"start":1654862556047,"name":"and I am logged in the \"WEB\" app as user \"MOD_ADMIN\"","stop":1654862559299},{"status":"passed","statusDetails":{},"stage":"pending","steps":[{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862559305,"name":"page.waitForSelector(text=\"E2E Web Moderation 3\")","stop":1654862559666},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862559668,"name":"page.waitForNavigation","stop":1654862560491},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862559670,"name":"page.click(text=\"E2E Web Moderation 3\")","stop":1654862560167},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862560492,"name":"page.waitForSelector(//h1[normalize-space()=\"Community Overview\"])","stop":1654862560663}],"attachments":[],"parameters":[],"start":1654862559300,"name":"and I navigate to \"E2E Web Moderation 3\" community","stop":1654862560663},{"status":"passed","statusDetails":{},"stage":"pending","steps":[{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862560665,"name":"page.goto(https://partner.aaqua.live//communities/f6a5feaf-040e-4bbc-8535-23fa7fe69093/content-moderation/132f7842-16ee-4afe-ad44-0af915c4265a/jobs/comment/details)","stop":1654862562405},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862562416,"name":"page.click(text=\"Hide Content\")","stop":1654862562813},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862562814,"name":"page.waitForSelector(text=\"Select and submit\")","stop":1654862562953},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862562954,"name":"page.click(//div[contains(@aria-label, \"violation type child safety\")])","stop":1654862563073},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862563074,"name":"page.waitForSelector(text=\"Submit\")","stop":1654862563087},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862563088,"name":"elementHandle.waitForElementState","stop":1654862563105},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862563089,"name":"page.click(text=\"Submit\")","stop":1654862563287},{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862563289,"name":"page.waitForNavigation","stop":1654862564078}],"attachments":[],"parameters":[],"start":1654862560664,"name":"when I review the job and hide it with the violationType \"CHILD\"","stop":1654862564078},{"status":"failed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862564078,"name":"then the comment is \"hidden\" for member \"MOD_MEMBER_2\"","stop":1654862565287},{"status":"passed","statusDetails":{},"stage":"pending","steps":[{"status":"passed","statusDetails":{},"stage":"pending","steps":[],"attachments":[],"parameters":[],"start":1654862565790,"name":"browserContext.close","stop":1654862565980}],"attachments":[],"parameters":[],"start":1654862565287,"name":"After Hooks","stop":1654862565983}],"attachments":[{"name":"video","type":"video/webm","source":"baf7c78c-553d-4a75-91db-04ce45fdf1f0-attachment.webm"},{"name":"trace","type":"application/zip","source":"faf60407-0d22-4778-941a-3ab3cae34b00-attachment.ZIP"},{"name":"screenshot","type":"image/png","source":"5b6f61a4-b805-4ef9-b1df-b87ce9092ebf-attachment.png"},{"name":"stdout","type":"text/plain","source":"423978bc-9137-490a-8dc9-8297882eb643-attachment.txt"},{"name":"stdout","type":"text/plain","source":"b873bda9-2b47-4278-91fd-46cd9a1a1f11-attachment.txt"},{"name":"stdout","type":"text/plain","source":"bf8bbf12-663c-4d76-9c3a-706aac03c0e1-attachment.txt"},{"name":"stdout","type":"text/plain","source":"ac6b5e17-5680-49e7-9089-6a6a2792d2c6-attachment.txt"},{"name":"stdout","type":"text/plain","source":"eaef80e8-6039-413d-bdea-0c2c1756439c-attachment.txt"},{"name":"stdout","type":"text/plain","source":"a1f0de89-5045-4721-846d-927d821be505-attachment.txt"},{"name":"stdout","type":"text/plain","source":"70cb502b-97c7-4713-a507-6d01d9f90f7f-attachment.txt"},{"name":"stdout","type":"text/plain","source":"70c0a31a-5fa3-4303-ad4f-cd1d3b7d05c3-attachment.txt"},{"name":"stdout","type":"text/plain","source":"558e22bd-9f15-4638-a56a-5ad94bc003e6-attachment.txt"},{"name":"stdout","type":"text/plain","source":"40d8e34e-63d7-45ff-b51a-36c4bfa30e69-attachment.txt"}],"parameters":[],"labels":[{"name":"language","value":"JavaScript"},{"name":"framework","value":"Playwright"},{"name":"suite","value":"tests/moderation/partner/moderate-reported-comment.spec.ts"},{"name":"subSuite","value":"Moderate a reported comment"}],"links":[],"start":1654862550206,"name":"hide \"POLL_COMMENT\"","fullName":"hide \"POLL_COMMENT\"","stop":1654862565982}